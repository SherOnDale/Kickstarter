module.exports=__NEXT_REGISTER_PAGE("/campaigns/requests/new",function(){var e=webpackJsonp([3],{863:function(e,t,r){e.exports=r(864)},864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(41);var a=r.n(n);var o=r(0);var u=r.n(o);var i=r(50);var s=r(107);var c=r(61);var l=r(60);var p=r.n(l);var f=r(106);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o);var i=u.value}catch(e){r(e);return}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){g(t,e);function t(){var e,r=this;var n,o,u;d(this,t);for(var i=arguments.length,p=Array(i),f=0;f<i;f++)p[f]=arguments[f];return u=(n=(o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),o.state={description:"",value:"",recipient:"",errorMessage:"",loading:false},o.onSubmit=function(){var e=h(a.a.mark(function e(t){var n,u,i,p,f,v;return a.a.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t.preventDefault();o.setState({loading:true,errorMessage:""});n=Object(s["a"])(o.props.address);u=o.state,i=u.description,p=u.value,f=u.recipient;r.prev=4;r.next=7;return c["a"].eth.getAccounts();case 7:v=r.sent;r.next=10;return n.methods.createRequest(i,c["a"].utils.toWei(p,"ether"),f).send({from:v[0]});case 10:l["Router"].pushRoute("/campaigns/"+o.props.address+"/requests");r.next=16;break;case 13:r.prev=13;r.t0=r["catch"](4);o.setState({errorMessage:r.t0.message.split(".")[0]+"."});case 16:o.setState({loading:false});case 17:case"end":return r.stop()}},e,r,[[4,13]])}));return function(t){return e.apply(this,arguments)}}(),n),m(o,u)}v(t,[{key:"render",value:function e(){var t=this;return u.a.createElement(f["a"],null,u.a.createElement(l["Link"],{route:"/campaigns/"+this.props.address+"/requests"},u.a.createElement("a",null,"Back")),u.a.createElement("h3",null,"Create a Request"),u.a.createElement(i["d"],{onSubmit:this.onSubmit,error:!!this.state.errorMessage},u.a.createElement(i["d"].Field,null,u.a.createElement("label",{htmlFor:"desc"},"Description"),u.a.createElement("input",{id:"desc",value:this.state.description,onChange:function e(r){return t.setState({description:r.target.value})}})),u.a.createElement(i["d"].Field,null,u.a.createElement("label",{htmlFor:"value"},"Value (Ether)"),u.a.createElement(i["f"],{id:"value",value:this.state.value,onChange:function e(r){return t.setState({value:r.target.value})}})),u.a.createElement(i["d"].Field,null,u.a.createElement("label",{htmlFor:"recipient"},"Recipient"),u.a.createElement(i["f"],{id:"recipient",value:this.state.recipient,onChange:function e(r){return t.setState({recipient:r.target.value})}})),u.a.createElement(i["h"],{error:true,header:"Oops",content:this.state.errorMessage}),u.a.createElement(i["a"],{primary:true,loading:this.state.loading},"Create")))}}],[{key:"getInitialProps",value:function(){var e=h(a.a.mark(function e(t){var r;return a.a.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r=t.query.address;return n.abrupt("return",{address:r});case 2:case"end":return n.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);return t}(o["Component"]);t["default"]=b}},[863]);return{page:e.default}});