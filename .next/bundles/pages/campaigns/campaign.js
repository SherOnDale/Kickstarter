module.exports=__NEXT_REGISTER_PAGE("/campaigns/campaign",function(){var e=webpackJsonp([5],{461:function(e,t,r){e.exports=r(462)},462:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(41);var a=r.n(n);var o=r(0);var u=r.n(o);var i=r(50);var s=r(106);var c=r(107);var l=r(61);var p=r(60);var f=r.n(p);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o);var i=u.value}catch(e){r(e);return}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){v(t,e);function t(){var e,r=this;var n,o,u;d(this,t);for(var i=arguments.length,s=Array(i),f=0;f<i;f++)s[f]=arguments[f];return u=(n=(o=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o),o.state={value:"",errorMessage:"",loading:false},o.onSubmit=function(){var e=h(a.a.mark(function e(t){var n,u;return a.a.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t.preventDefault();o.setState({loading:true,errorMessage:""});n=Object(c["a"])(o.props.address);r.prev=3;r.next=6;return l["a"].eth.getAccounts();case 6:u=r.sent;r.next=9;return n.methods.contribute().send({from:u[0],value:l["a"].utils.toWei(o.state.value,"ether")});case 9:p["Router"].replaceRoute("/campaigns/"+o.props.address);r.next=15;break;case 12:r.prev=12;r.t0=r["catch"](3);o.setState({errorMessage:r.t0.message.split(".")[0]+"."});case 15:o.setState({loading:false,value:""});case 16:case"end":return r.stop()}},e,r,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),n),b(o,u)}m(t,[{key:"render",value:function e(){var t=this;return u.a.createElement(i["d"],{onSubmit:this.onSubmit,error:!!this.state.errorMessage},u.a.createElement(i["d"].Field,null,u.a.createElement("label",{htmlFor:"min"},"Contribute to this Campaign!"),u.a.createElement(i["f"],{id:"min",value:this.state.value,onChange:function e(r){return t.setState({value:r.target.value})},label:"Ether",labelPosition:"right"})),u.a.createElement(i["h"],{error:true,header:"Oops!",content:this.state.errorMessage}),u.a.createElement(i["a"],{primary:true,loading:this.state.loading},"Contribute"))}}]);return t}(o["Component"]);var g=y;var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var u=t[a](o);var i=u.value}catch(e){r(e);return}if(!u.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){O(t,e);function t(){C(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}w(t,[{key:"renderCards",value:function e(){var t=this.props,r=t.minimumContribution,n=t.balance,a=t.requestsCount,o=t.contributorsCount,s=t.managerAddress;var c=[{header:s,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money.",style:{overflowWrap:"break-word"}},{header:r,meta:"Minimum Contribution (Wei)",description:"You must contribute atleast this much wei to become a contributor."},{header:a,meta:"Number of Requests",description:"A request tries to withdraw money from the contract. Requests must be approved by contributors."},{header:o,meta:"Number of Contributors",description:"Number of people who have already donated to this campaign."},{header:l["a"].utils.fromWei(n,"ether"),meta:"Campaign Balance (Ether)",description:"The balance is how much money this campaign has left to spend."}];return u.a.createElement(i["b"].Group,{items:c})}},{key:"render",value:function e(){return u.a.createElement(s["a"],null,u.a.createElement("h3",null,"Campaign Details"),u.a.createElement(i["e"],null,u.a.createElement(i["e"].Row,null,u.a.createElement(i["e"].Column,{width:10},this.renderCards()),u.a.createElement(i["e"].Column,{width:6},u.a.createElement(g,{address:this.props.campaignAddress}))),u.a.createElement(i["e"].Row,null,u.a.createElement(i["e"].Column,null,u.a.createElement(p["Link"],{route:"/campaigns/"+this.props.campaignAddress+"/requests"},u.a.createElement("a",null,u.a.createElement(i["a"],{primary:true},"View Requests")))))))}}],[{key:"getInitialProps",value:function(){var e=E(a.a.mark(function e(t){var r,n;return a.a.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:r=Object(c["a"])(t.query.address);a.next=3;return r.methods.getSummary().call();case 3:n=a.sent;return a.abrupt("return",{minimumContribution:n[0],balance:n[1],requestsCount:n[2],contributorsCount:n[3],managerAddress:n[4],campaignAddress:t.query.address});case 5:case"end":return a.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);return t}(o["Component"]);var j=t["default"]=P}},[461]);return{page:e.default}});